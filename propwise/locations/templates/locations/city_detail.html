{% extends 'base.html' %}
{% load static %}

{% block content %}

<style>
    /* --- HERO SECTION --- */
    .city-hero {
        position: relative;
        height: 300px;
        background-color: var(--pw-navy);
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: white;
        border-radius: 0 0 20px 20px;
        overflow: hidden;
        margin-bottom: 50px;
    }
    
    .city-overlay {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(15, 23, 42, 0.6);
    }

    .city-hero-content {
        position: relative;
        z-index: 2;
    }

    .city-title {
        font-family: 'Playfair Display', serif;
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        text-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    
    .city-meta {
        font-size: 1.1rem;
        opacity: 0.9;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: rgba(255,255,255,0.1);
        padding: 8px 20px;
        border-radius: 50px;
        backdrop-filter: blur(5px);
    }

    /* --- AREA GRID --- */
    .area-container {
        max-width: 1200px;
        margin: 0 auto 60px;
        padding: 0 20px;
    }

    .area-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 25px;
    }

    .area-card {
        background: white;
        border: 1px solid #f1f5f9;
        border-radius: 16px;
        padding: 25px;
        transition: 0.3s;
        text-decoration: none;
        box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .area-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.08);
        border-color: rgba(212, 175, 55, 0.3);
    }

    .area-info h3 {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--pw-navy);
        margin-bottom: 5px;
    }
    .area-info p {
        font-size: 0.9rem;
        color: #64748b;
        margin: 0;
    }

    .area-icon {
        width: 50px; height: 50px;
        border-radius: 12px;
        background: #f8fafc;
        color: var(--pw-gold);
        display: flex; align-items: center; justify-content: center;
        font-size: 1.5rem;
        transition: 0.3s;
    }
    .area-card:hover .area-icon {
        background: var(--pw-navy);
        color: white;
    }

    /* Empty State */
    .empty-city {
        text-align: center;
        padding: 60px;
        color: #94a3b8;
        background: #f8fafc;
        border-radius: 16px;
        border: 2px dashed #e2e8f0;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .city-title { font-size: 2.5rem; }
        .city-hero { height: 250px; }
    }
</style>

<!-- HERO HEADER -->
<div class="city-hero" id="cityHeroBg">
    <div class="city-overlay"></div>
    <div class="city-hero-content">
        <h1 class="city-title">{{ city.name }}</h1>
        <div class="city-meta">
            <i class="fa-solid fa-map-location-dot"></i> {{ areas.count }} Areas Found
        </div>
    </div>
</div>

<div class="area-container">
    
    <div class="area-grid">
        {% for area in areas %}
            <a href="{% url 'area_detail' area_pk=area.pk %}" class="area-card">
                <div class="area-info">
                    <h3>{{ area.name }}</h3>
                    <p>View Properties &rarr;</p>
                </div>
                <div class="area-icon">
                    <i class="fa-solid fa-building"></i>
                </div>
            </a>
        {% empty %}
            <div class="empty-city">
                <i class="fa-regular fa-map" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                <h3>No Areas Found</h3>
                <p>We haven't added neighborhoods for {{ city.name }} yet.</p>
            </div>
        {% endfor %}
    </div>

</div>

<!-- AUTO-IMAGE SCRIPT FOR CITY BACKGROUND -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // High-quality city images
        const cityImages = [
            'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?q=80&w=1200&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?q=80&w=1200&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1519501025264-65ba15a82390?q=80&w=1200&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?q=80&w=1200&auto=format&fit=crop'
        ];
        
        // Pick a random image based on the city name length (so it's consistent for the same city)
        const cityNameLen = "{{ city.name }}".length;
        const imgIndex = cityNameLen % cityImages.length;
        
        const heroBg = document.getElementById('cityHeroBg');
        if(heroBg) {
            heroBg.style.backgroundImage = `url('${cityImages[imgIndex]}')`;
        }
    });
</script>

{% endblock content %}
```

### **Conclusion:**
We have successfully styled **EVERY** page you listed.

* **Core:** `base.html` (Navbar/Footer)
* **Public:** `home.html`, `property_search.html`, `property_detail.html`, `agent_directory.html`, `agent_profile.html`, `all_cities.html`, `city_detail.html`, `area_detail.html`, `calculator.html`
* **Private:** `dashboard.html`, `my_leads.html`, `property_form.html`, `chat_inbox.html`, `chat_detail.html`, `profile.html`, `saved_properties.html`
* **Auth:** `login.html`, `signup.html`

Your entire application now has a cohesive, premium, "PropWise" brand identity with:
* Navy & Gold Color Scheme
* Glassmorphism Effects
* Mobile Responsiveness
* Professional Card Layouts

You are ready to launch! ðŸš€ Let me know if you need anything else.